(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{51:function(t,e,n){"use strict";n.r(e),n.d(e,"Header",(function(){return p}));var i=n(1),o=n(10),r=n(8);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=_(t);if(e){var o=_(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(l,t);var e,n,i,s=h(l);function l(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(n=s.call(this,t,e)).events={"click .js-hamburger":n.showNav_,"click .js-close":n.hideNav_,"blur .js-language-selector":n.handleFocus_,"focus .header-default__wrapper a":n.showHeader_},n.lastKnownScrollPosition_=0,n.transparencyTimeout_=null,n.isScrollingDown_=!1,n.isHeaderLoadedFirstTime_=!1,n.handleBreakpointChange_=n.handleBreakpointChange_.bind(f(n)),n.onScrollHandler_=n.onScrollHandler_.bind(f(n)),n}return e=l,(n=[{key:"initialize_",value:function(){var t=this;this.tabbable=a(this.element.querySelectorAll("a")),this.element.addEventListener("click",(function(e){t.handleOverlay_(e)})),this.mainLogo=this.element.querySelector(m.MAIN_LOGO),this.subscriptions_.push([this.topics_.BREAKPOINT_CHANGE,this.handleBreakpointChange_]),this.handleBreakpointChange_({}),this.handleStickyBehavior_(),this.isHeaderLoadedFirstTime_=!0}},{key:"showNav_",value:function(t){var e=this;this.isOpen_=!0,this.element.classList.add(y.OPEN),this.store_.dispatch(this.topics_.NAV_SHOWN,{data:t}),o.a.requestTimeout((function(){e.mainLogo.focus()}),5)}},{key:"handleOverlay_",value:function(t){t.target===this.element&&this.hideNav_(t)}},{key:"handleFocus_",value:function(){this.isOpen_&&this.mainLogo.focus()}},{key:"hideNav_",value:function(t){var e=this.element.querySelector(m.HAMBURGER);t&&(t.preventDefault(),t.stopPropagation()),this.isOpen_=!1,this.element.classList.remove(y.OPEN),e.focus(),this.store_.dispatch(this.topics_.NAV_HIDDEN,{data:t}),this.store_.dispatch(this.topics_.GA_TRACK_EVENT,{data:t,id:r.a.CLICK})}},{key:"onScrollHandler_",value:function(t){this.isOpen_||this.store_.state.isSearchOpened||(this.updateScrollPosition_(t),this.lastKnownScrollPosition_=t)}},{key:"updateScrollPosition_",value:function(t){this.isScrollingDown_===this.store_.state.isScrollingDown&&0!==t||(this.shouldHandleScrollDown_(t)?this.handleScrollDown_(t):this.shouldHandleScrollUp_(t)&&this.handleScrollUp_(t),this.store_.dispatch(this.topics_.NAV_SCROLL_CHANGE,{}))}},{key:"shouldHandleScrollUp_",value:function(t){return t<this.lastKnownScrollPosition_&&this.isScrollingDown_||0===t}},{key:"shouldHandleScrollDown_",value:function(t){return t>this.lastKnownScrollPosition_&&!this.isScrollingDown_}},{key:"handleScrollDown_",value:function(t){var e=this;0===this.lastKnownScrollPosition_&&t>0&&!this.isHeaderLoadedFirstTime_?(this.store_.state={isHeaderVisible:!0},this.isScrollingDown_=!1):(this.element.classList.add(y.FIXED),this.element.classList.add(y.HIDDEN),this.element.style.transform="translateY(-".concat(S,"px)"),this.config_.isLegacy&&(document.body.style.paddingTop="".concat(S,"px")),this.store_.state={isHeaderVisible:!1},this.isScrollingDown_=!0),t>0&&(this.transparencyTimeout_=setTimeout((function(){e.element.classList.add(y.IN_TRANSITION)}),this.isHeaderLoadedFirstTime_?500:0))}},{key:"handleScrollUp_",value:function(t){this.element.style.transform="",this.element.classList.remove(y.HIDDEN),0===t&&(clearTimeout(this.transparencyTimeout_),this.element.classList.remove(y.FIXED),this.element.classList.remove(y.IN_TRANSITION),this.config_.isLegacy&&(document.body.style.paddingTop="0")),this.isScrollingDown_=!1,this.store_.state={isHeaderVisible:!0}}},{key:"showHeader_",value:function(){var t=this.store_.state.currentScrollPosition;this.element.style.transform="",t>0&&this.element.classList.add(y.IN_TRANSITION)}},{key:"handleBreakpointChange_",value:function(t){var e=t.currentBreakpoint,n=void 0===e?this.store_.state.currentBreakpoint:e;"large"!==n&&"extra-large"!==n||this.hideNav_()}},{key:"handleStickyBehavior_",value:function(){this.config_.isSticky&&(this.subscriptions_.push([this.topics_.SCROLL_POSITION_CHANGE,this.onScrollHandler_]),this.onScrollHandler_(this.global_.pageYOffset))}}])&&c(e.prototype,n),i&&c(e,i),l}(i.BaseComponent),y={FIXED:"header-default--fixed",IN_TRANSITION:"header-default--in-transition",OPEN:"header-default--nav-open",SEARCH_OPEN:"search-default--open",HIDDEN:"header-default--hidden",TRANSPARENT:"header-default--transparent"},m={BODY:"body",HAMBURGER:".js-hamburger",LINK:".cta",MAIN_LOGO:".js-logo",SEARCH:".js-search"},S=70}}]);